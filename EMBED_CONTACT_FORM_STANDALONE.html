<!--
  STANDALONE GENERAL INQUIRY FORM — No iframe, paste directly on Hostinger
  
  SETUP:
  1. Replace YOUR_API_BASE_URL below with your Aurora Sonnet Node API URL (no trailing slash), e.g. https://your-app.onrender.com
  2. On success, visitors are redirected to https://aurorasonnet.com/general-inquiry-thank-you
  3. Paste this entire file into an HTML block on your contact page.
  NOTE: The form submits via JavaScript to your API; your Node server must be deployed and CORS allows aurorasonnet.com.
-->

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet" />

<style>
  .aurora-general-form { font-family: 'Inter', system-ui, sans-serif; max-width: 620px; margin: 0 auto; background: #fff; border-radius: 20px; padding: 2.25rem 2rem; box-shadow: 0 4px 24px rgba(0,0,0,0.1); }
  .aurora-general-form label { display: block; margin-bottom: 1.25rem; font-size: 0.875rem; color: #333; }
  .aurora-general-form label:first-child { margin-top: 0.25rem; }
  .aurora-general-form label:last-of-type { margin-bottom: 1.75rem; }
  .aurora-general-form input,
  .aurora-general-form textarea { font-family: 'Inter', system-ui, sans-serif; display: block; width: 100%; margin-top: 0.5rem; padding: 0.5rem 0.75rem; font-size: 1rem; font-weight: 400; border: 1px solid #222; border-radius: 12px; background: #fff; box-sizing: border-box; }
  .aurora-general-form input::placeholder,
  .aurora-general-form textarea::placeholder { color: #b0b0b0; font-weight: 400; }
  .aurora-general-form textarea { min-height: 100px; resize: vertical; }
  .aurora-general-form .submit-btn { font-family: 'Inter', system-ui, sans-serif; display: block; width: auto; min-width: 160px; margin: 1.75rem auto 0; padding: 0.65rem 2rem; font-size: 1rem; font-weight: 400; color: #fff; background: #3d3630; border: none; border-radius: 999px; cursor: pointer; }
  .aurora-general-form .submit-btn:hover { background: #2d2620; }
  .aurora-general-form .submit-btn:disabled { opacity: 0.7; cursor: not-allowed; }
  .aurora-general-form .form-error { font-size: 0.9rem; color: #c00; margin-top: 0.75rem; }
</style>

<div class="aurora-general-form">
  <form id="aurora-inquiry-form">
    <label>Your Name
      <input type="text" name="name" placeholder="Enter full name" required />
    </label>
    <label>Email Address*
      <input type="email" name="email" placeholder="Enter email" required />
    </label>
    <label>Message*
      <textarea name="message" placeholder="Write your message" required></textarea>
    </label>
    <div id="aurora-form-error" class="form-error" role="alert" aria-live="polite" style="display: none;"></div>
    <button type="submit" class="submit-btn" id="aurora-submit-btn">Send Inquiry</button>
  </form>
</div>

<script>
(function () {
  // After you deploy the app (see DEPLOY_NEXT_STEPS.md), replace with your app URL, e.g. https://aurora-sonnet-xxxx.onrender.com (no trailing slash).
  var API_BASE_URL = 'https://aurora-sonnet-xxxx.onrender.com';
  var THANK_YOU_URL = 'https://aurorasonnet.com/general-inquiry-thank-you';

  var form = document.getElementById('aurora-inquiry-form');
  var errorEl = document.getElementById('aurora-form-error');
  var submitBtn = document.getElementById('aurora-submit-btn');

  form.addEventListener('submit', function (e) {
    e.preventDefault();
    errorEl.style.display = 'none';
    errorEl.textContent = '';
    if (!API_BASE_URL || API_BASE_URL.indexOf('xxxx') !== -1) {
      errorEl.textContent = 'Form not configured: deploy your app (DEPLOY_NEXT_STEPS.md), then replace the URL in the form code with your app URL (e.g. from Render).';
      errorEl.style.display = 'block';
      return;
    }
    var fd = new FormData(form);
    var payload = {
      name: (fd.get('name') || '').trim(),
      email: (fd.get('email') || '').trim(),
      message: (fd.get('message') || '').trim(),
    };
    if (!payload.name || !payload.email) {
      errorEl.textContent = 'Please enter your name and email.';
      errorEl.style.display = 'block';
      return;
    }
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending…';
    fetch(API_BASE_URL + '/api/inquiry', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload),
    })
      .then(function (res) {
        if (res.ok) {
          window.location.href = THANK_YOU_URL;
          return;
        }
        return res.json().catch(function () { return {}; }).then(function (data) {
          throw new Error(data.error || 'Request failed');
        });
      })
      .catch(function (err) {
        errorEl.textContent = 'We couldn\'t send your message. Please email us at contact@aurorasonnet.com or call +1-646-596-4747.';
        errorEl.style.display = 'block';
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Inquiry';
      });
  });
})();
</script>
